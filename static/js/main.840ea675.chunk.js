(window["webpackJsonpcurrency-rates"]=window["webpackJsonpcurrency-rates"]||[]).push([[0],{57:function(e,t,a){e.exports=a(73)},62:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),s=a.n(c),i=(a(62),a(31)),l=a(34),o=a.n(l),u=a(40),d=a(41),m=a(42),h=a(48),f=a(43),p=a(49),v=a(104),C=a(101),w=a(105),b=a(109),E=a(111),g=a(112),y=a(106),S=a(107),k=a(47),D=a(108),R=function(e){return r.a.createElement("div",{className:"header-wrapper"},r.a.createElement(C.a,{container:!0,spacing:8},r.a.createElement(C.a,{item:!0,sm:9},r.a.createElement("span",null,e.baseCurrency)),r.a.createElement(C.a,{item:!0,sm:3},r.a.createElement(D.a,{type:"number",value:e.value,onChange:e.onChangeValue}))))},N=(a(72),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).fetchData=Object(u.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.base,e.prev=1,e.next=4,fetch("https://api.exchangeratesapi.io/latest?base=".concat(t));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,a.setState({rateList:Object.keys(r.rates).map((function(e){return{id:e,rates:r.rates[e],baseRates:r.rates[e],show:!1}}))}),a.setShowed(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),a.setShowed=function(e){var t=a.state,n=t.rateList;t.showed.map((function(e){var t=n.findIndex((function(t){return t.id===e}));return n[t].show=!0})),a.setState({rateList:n}),a.handleRatesChanged()},a.handleRatesChanged=function(){var e=a.state,t=e.rateList,n=e.value,r=Object(i.a)(t);n?r.map((function(e){return e.rates=e.baseRates*n})):r.map((function(e){return e.rates=e.baseRates})),a.setState({rateList:r})},a.handleValueChanged=function(e){var t=e.target.value;a.setState({value:t})},a.handleSelectChanged=function(e){var t=e.value;a.setState({selectedCurrency:t})},a.handleAddCurrency=function(){var e=a.state,t=e.selectedCurrency,n=e.showed,r=e.rateList,c=r.findIndex((function(e){return e.id===t})),s=Object(i.a)(r);s[c].show=!0,n.push(t),a.setState({rateList:s,modal:!1})},a.handleRemoveCurrency=function(e){var t=a.state,n=t.showed,r=t.rateList,c=r.findIndex((function(t){return t.id===e})),s=Object(i.a)(r);s[c].show=!1,n.filter((function(t){return t!==e})),a.setState({rateList:s})},a.handleOpenDialog=function(){a.setState({modal:!0})},a.handleCloseDialog=function(){a.setState({modal:!1})},a.state={base:"USD",showed:["USD","CAD","IDR","GBP","CHF","SGD","INR","MYR","JPY","KRW"],rateList:[],value:10,modal:!1,selectedCurrency:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e,t){t.value!==this.state.value&&this.handleRatesChanged()}},{key:"render",value:function(){var e=this,t=this.state.rateList,a=t.filter((function(e){return!e.show}));return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement(R,{baseCurrency:this.state.base,value:this.state.value,onChangeValue:this.handleValueChanged}),r.a.createElement("div",{className:"list-wrapper"},t&&t.map((function(t,a){if(t.show)return r.a.createElement(v.a,{className:"list-content",key:"".concat(t.id," - ").concat(a)},r.a.createElement(C.a,{container:!0,spacing:8},r.a.createElement(C.a,{item:!0,sm:8},r.a.createElement("p",{className:"title"},t.id),r.a.createElement("span",null,"1 USD = ".concat(t.id," ").concat(t.baseRates))),r.a.createElement(C.a,{item:!0,sm:3},r.a.createElement("p",{className:"rates"},t.rates.toFixed(2))),r.a.createElement(w.a,{className:"icon-delete",onClick:function(){return e.handleRemoveCurrency(t.id)}},"close")))}))),r.a.createElement(b.a,{color:"primary",variant:"contained",onClick:this.handleOpenDialog},"+ Add Currenncy")),r.a.createElement(E.a,{open:this.state.modal,onClose:this.handleCloseDialog,"aria-labelledby":"form-dialog-title"},r.a.createElement(g.a,{id:"form-dialog-title"},"Add New Currenncy"),r.a.createElement(y.a,null,r.a.createElement(k.a,{className:"react-select",classNamePrefix:"react-select",options:a.map((function(e){return{label:e.id,value:e.id}})),onChange:this.handleSelectChanged})),r.a.createElement(S.a,null,r.a.createElement(b.a,{onClick:this.handleCloseDialog,color:"primary",variant:"outlined"},"Cancel"),r.a.createElement(b.a,{onClick:this.handleAddCurrency,color:"primary",variant:"contained"},"Submit"))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[57,1,2]]]);
//# sourceMappingURL=main.840ea675.chunk.js.map